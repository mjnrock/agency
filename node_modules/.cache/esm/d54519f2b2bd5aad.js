let EventEmitter,uuidv4;_b2b‍.x([["default",()=>Validator]]);_b2b‍.w("events",[["default",["EventEmitter"],function(v){EventEmitter=v}]]);_b2b‍.w("uuid",[["v4",["uuidv4"],function(v){uuidv4=v}]]);


               class Validator extends EventEmitter {
    static GroupLogicType = {
        CONJUNCT: 2 << 0,
        NEGATION: 2 << 1,
    };

    constructor(...evaluators) {
        super();

        this._id = uuidv4();
        this._evaluators = [];

        this.add(...evaluators);
    }

    add(...fns) {
        this._evaluators = [
            ...this._evaluators,
            ...fns,
        ];

        return this;
    }
    remove(...fns) {
        for(let fn of fns) {
            this._evaluators = this._evaluators.filter(e => e !== fn);
        }

        return this;
    }

    run(args = [], { mask = 0 } = {}) {
        const results = [];
        for(let fn of this._evaluators) {
            results.push(fn(...args));
        }

        let result;
        if((mask & Validator.GroupLogicType.CONJUNCT) === Validator.GroupLogicType.CONJUNCT) {
            result = results.every(input => input === true);
        } else {
            result = results.some(input => input === true);
        }

        if((mask & Validator.GroupLogicType.NEGATION) === Validator.GroupLogicType.NEGATION) {
            return !result;
        }

        return result;
    }
};